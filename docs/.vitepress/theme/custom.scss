/**
 * Custom CSS for Stock Indicators documentation
 * Supports both light and dark themes with dark as default
 */

/* ===== Dark Theme (default) ===== */
:root {
  /* Chart colors for dark theme */
  --si-chart-bg: transparent;
  --si-chart-text: #adbac7;
  --si-chart-grid: #2d333b;
  --si-chart-border: #444c56;
  --si-chart-crosshair: #768390;
  --si-candle-up: #57ab5a;
  --si-candle-down: #e5534b;
  --si-volume-up: rgba(87, 171, 90, 0.3);
  --si-volume-down: rgba(229, 83, 75, 0.3);
  --si-indicator-1: #539bf5;
  --si-indicator-2: #c69026;
  --si-indicator-3: #986ee2;
  --si-indicator-4: #57ab5a;
  --si-indicator-5: #e5534b;
}

/* Dark theme colors (GitHub Primer dark-dimmed) */
.dark {
  --vp-c-bg: #22272e;
  --vp-c-bg-alt: #2d333b;
  --vp-c-bg-elv: #2d333b;
  --vp-c-bg-soft: #2d333b;

  --vp-c-border: #444c56;
  --vp-c-divider: #444c56;
  --vp-c-gutter: #2d333b;

  --vp-c-text-1: #adbac7;
  --vp-c-text-2: #909dab;
  --vp-c-text-3: #768390;

  --vp-c-brand-1: #539bf5;
  --vp-c-brand-2: #6cb6ff;
  --vp-c-brand-3: #316dca;
  --vp-c-brand-soft: rgba(83, 155, 245, 0.14);

  --vp-c-tip-1: #57ab5a;
  --vp-c-tip-2: #46954a;
  --vp-c-tip-3: #347d39;
  --vp-c-tip-soft: rgba(87, 171, 90, 0.14);

  --vp-c-warning-1: #c69026;
  --vp-c-warning-2: #9e6a03;
  --vp-c-warning-3: #7d4e00;
  --vp-c-warning-soft: rgba(198, 144, 38, 0.14);

  --vp-c-danger-1: #e5534b;
  --vp-c-danger-2: #d1242f;
  --vp-c-danger-3: #a40e26;
  --vp-c-danger-soft: rgba(229, 83, 75, 0.14);

  /* Code block colors (increase contrast) */
  --vp-code-block-bg: #151a21;
  --vp-code-bg: #151a21;
  --vp-code-tab-divider: #444c56;

  /* Sidebar colors */
  --vp-sidebar-bg-color: #22272e;

  /* Navbar colors */
  --vp-nav-bg-color: #22272e;
  --vp-nav-screen-bg-color: #22272e;

  /* Button colors (improve contrast) */
  --vp-button-brand-bg: #2e76d0;
  --vp-button-brand-hover-bg: #3c82d6;
  --vp-button-brand-active-bg: #245da6;

  /* Link colors */
  --vp-c-brand: #539bf5;
  --vp-c-brand-dark: #316dca;
  --vp-c-brand-darker: #1f4d99;
  --vp-c-brand-light: #6cb6ff;
  --vp-c-brand-lighter: #96d0ff;

  /* Chart colors for dark theme */
  --si-chart-bg: transparent;
  --si-chart-text: #adbac7;
  --si-chart-grid: #2d333b;
  --si-chart-border: #444c56;
}

/* ===== Light Theme ===== */
html:not(.dark) {
  --vp-c-bg: #f3f4f6;
  --vp-c-bg-alt: #e5e7eb;
  --vp-c-bg-elv: #f3f4f6;
  --vp-c-bg-soft: #e5e7eb;

  --vp-c-border: #d0d7de;
  --vp-c-divider: #d0d7de;
  --vp-c-gutter: #e5e7eb;

  --vp-c-text-1: #24292f;
  --vp-c-text-2: #57606a;
  --vp-c-text-3: #6e7781;

  --vp-c-brand-1: #0969da;
  --vp-c-brand-2: #0550ae;
  --vp-c-brand-3: #218bff;
  --vp-c-brand-soft: rgba(9, 105, 218, 0.1);

  --vp-c-tip-1: #1a7f37;
  --vp-c-tip-2: #2da44e;
  --vp-c-tip-3: #238636;
  --vp-c-tip-soft: rgba(26, 127, 55, 0.1);

  --vp-c-warning-1: #9a6700;
  --vp-c-warning-2: #bf8700;
  --vp-c-warning-3: #d4a72c;
  --vp-c-warning-soft: rgba(154, 103, 0, 0.1);

  --vp-c-danger-1: #cf222e;
  --vp-c-danger-2: #fa4549;
  --vp-c-danger-3: #ff8182;
  --vp-c-danger-soft: rgba(207, 34, 46, 0.1);

  /* Code block colors (darker for better contrast) */
  --vp-code-block-bg: #e8eaed;
  --vp-code-bg: #e8eaed;
  --vp-code-tab-divider: #d0d7de;

  /* Sidebar colors */
  --vp-sidebar-bg-color: #f3f4f6;

  /* Navbar colors */
  --vp-nav-bg-color: #f3f4f6;
  --vp-nav-screen-bg-color: #f3f4f6;

  /* Button colors */
  --vp-button-brand-bg: #2e76d0;
  --vp-button-brand-hover-bg: #3c82d6;
  --vp-button-brand-active-bg: #245da6;

  /* Link colors */
  --vp-c-brand: #0969da;
  --vp-c-brand-dark: #0550ae;
  --vp-c-brand-darker: #033d8b;
  --vp-c-brand-light: #218bff;
  --vp-c-brand-lighter: #54aeff;

  /* Chart colors for light theme */
  --si-chart-bg: transparent;
  --si-chart-text: #24292f;
  --si-chart-grid: #d0d7de;
  --si-chart-border: #d0d7de;
}

/* Custom styles for better readability */
.vp-doc {

  h1,
  h2,
  h3 {
    color: var(--vp-c-text-1);
  }

  a {
    color: var(--vp-c-brand-1);

    &:hover {
      color: var(--vp-c-brand-2);
    }
  }

  code,
  pre code {
    background-color: var(--vp-code-bg);
  }

  pre {
    background-color: var(--vp-code-block-bg);
  }
}

/* Light theme specific overrides */
html:not(.dark) .vp-doc {

  code,
  pre code {
    color: var(--vp-c-text-1);
  }
}

/* Dark theme specific overrides */
.dark .vp-doc {
  table a {
    color: #8cc4ff;

    &:hover {
      color: #a7d4ff;
    }
  }

  code,
  pre code {
    color: var(--vp-c-text-1);
  }
}

/* Code blocks */
.vp-code {
  background-color: var(--vp-code-block-bg);
  color: var(--vp-c-text-1);
}

/* Home page hero */
.VPHero {
  background-color: var(--vp-c-bg);

  .name {
    color: var(--vp-c-text-1);
    max-width: 100% !important;
    font-size: 2.5em !important;
    line-height: 0.7 !important;
  }

  small {
    font-size: 75% !important;
  }

  .text {
    color: var(--vp-c-brand-1);
    max-width: 100% !important;
  }

  .tagline {
    color: var(--vp-c-text-2);
    max-width: 100% !important;
    font-size: 1.2em !important;
    line-height: 1.1 !important;
  }
}

.VPFeatures {

  .VPImage {
    aspect-ratio: 16/9;
    width: 100%;
    object-fit: cover;
    object-position: top;
    border-radius: 5px;
  }
}

/* Navbar site title - grid layout with icon left, text stacked right */
.VPNavBarTitle .title {
  display: inline-grid;
  grid-template-columns: auto 1fr;
  grid-template-rows: auto auto;
  gap: 0 4px;
  align-items: start;

  .logo {
    grid-row: 1 / 3;
    grid-column: 1;
    align-self: center;
  }

  >span:first-of-type {
    grid-row: 1;
    grid-column: 2;
    align-self: end;
    line-height: 1;
  }
}

.nav-title-below {
  color: var(--vp-c-text-2);
  grid-row: 2;
  grid-column: 2;
  font-size: 60%;
  line-height: 0.85;
  align-self: start;
}

/* Ensure brand buttons keep high-contrast text */
.VPButton.brand,
.VPButton.medium.brand {
  color: #ffffff !important;
}

/* Home page charts layout - vertical stack */
.home-charts-stack {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin: 0 auto;
  padding: 8px 0;
  max-width: 1024px;
}

/* Optimize chart sizing for medium viewports (768px-1024px) */
@media (min-width: 768px) and (max-width: 1024px) {
  .home-charts-stack {
    height: auto;
  }

  /* Ensure indicator charts scale appropriately */
  .vp-doc img {
    height: auto;
  }
}
